addEventListener("load",(t=>{new FontFace("MyFont","url(https://fonts.googleapis.com/css2?family=Permanent+Marker&display=swap)");const e=document.getElementById("layer1"),i=e.getContext("2d"),s=document.getElementById("layer2"),r=s.getContext("2d");e.width=1*document.documentElement.clientWidth,e.height=.78*document.documentElement.clientHeight,s.width=1*document.documentElement.clientWidth,s.height=.78*document.documentElement.clientHeight;var h=Math.floor(.11*document.documentElement.clientHeight),a=Math.floor(.78*document.documentElement.clientHeight);i.globalAlpha=1,r.globalAlpha=1;var o=new class{constructor(t,e,i,s,r,h,a,o,y,n,l){this.fontName=t,this.fontSize=e,this.color=i,this.hasBoarder=s,this.borderWidth=r,this.borderColor=h,this.hasShadow=a,this.shadowColor=o,this.shadowSize=y,this.shadowOffsetX=n,this.shadowOffsetY=l,this.previousSize=e}updateSize(t){this.fontSize=t;let e=0,i="";for(let t=0;!isNaN(parseInt(this.fontName[t]));t++)i+=this.fontName[t],e++;this.previousSize=parseInt(i),this.fontName=this.fontName.slice(e,this.fontName.length),this.fontName=t+this.fontName}revertSize(){this.fontSize=this.previousSize;let t=0;for(let e=0;!isNaN(parseInt(this.fontName[e]));e++)t++;this.fontName=this.fontName.slice(t,this.fontName.length),this.fontName=this.previousSize+this.fontName}}("40px 'Permanent Marker'",40,"#fcf259",!0,10,"#9c1d2c",!1,0,0,0,0);class y{constructor(t){this.text=t.toString(),this.lastPosX=-1e3,this.lastPosY=-1e3}}function n(t,e,i,s,r,h){document.fonts.load(e.fontName).then((()=>{-1e3==t.lastPosX&&-1e3==t.lastPosY&&(lastPosXText=i,lastPosYText=s);let a=0,o="";for(let t=0;!isNaN(parseInt(e.fontName[t]));t++)o+=e.fontName[t],a++;holderFont=h+e.fontName.slice(a,e.fontName.length);r.measureText(t.text).width;t.lastPosX=i,t.lastPosY=s,r.font=holderFont,r.fillStyle=e.color,e.hasBoarder&&(r.strokeStyle=e.borderColor,r.lineWidth=e.borderWidth),e.hasShadow?(r.shadowColor=e.shadowColor,r.shadowOffsetX=e.shadowOffsetX,r.shadowOffsetY=e.shadowOffsetY,r.shadowBlur=e.shadowSize):(r.shadowColor="transparent",r.shadowOffsetX=0,r.shadowOffsetY=0,r.shadowBlur=0),e.hasBoarder&&r.strokeText(t.text,i,s+e.fontSize),r.fillText(t.text,i,s+e.fontSize)}))}document.addEventListener("mousemove",(t=>{c.x=t.clientX,c.y=Math.floor(t.clientY-h)})),document.addEventListener("mousedown",(()=>{c.down=!0})),document.addEventListener("mouseup",(()=>{c.down=!1})),document.addEventListener("keydown",(t=>{})),onkeydown=t=>{switch(t.key){case"w":l.w=!0;break;case"a":l.a=!0;break;case"s":l.s=!0;break;case"d":l.d=!0;break;case"f":l.f=!0;break;case"1":l.one=!0;break;case"2":l.two=!0;break;case"3":l.three=!0;break;case"4":l.four=!0;break;case"5":l.five=!0;break;case"space":l.space=!0;break;case"ArrowUp":l.ArrowUp=!0;break;case"ArrowLeft":l.ArrowLeft=!0;break;case"ArrowDown":l.ArrowDown=!0;break;case"ArrowRight":l.ArrowRight=!0}},document.addEventListener("keyup",(t=>{})),onkeyup=t=>{switch(t.key){case"w":l.w=!1;break;case"a":l.a=!1;break;case"s":l.s=!1;break;case"d":l.d=!1;break;case"f":l.f=!1;break;case"1":l.one=!1;break;case"2":l.two=!1;break;case"3":l.three=!1;break;case"4":l.four=!1;break;case"5":l.five=!1;break;case"space":l.space=!1;break;case"ArrowUp":l.ArrowUp=!1;break;case"ArrowLeft":l.ArrowLeft=!1;break;case"ArrowDown":l.ArrowDown=!1;break;case"ArrowRight":l.ArrowRight=!1}};var l={w:!1,a:!1,s:!1,d:!1,f:!1,one:!1,two:!1,three:!1,four:!1,five:!1,space:!1,ArrowUp:!1,ArrowDown:!1,ArrowRight:!1,ArrowLeft:!1};var c={x:0,y:0,height:10,width:10,color:"green",down:!1},d=new class{constructor(t,e,i,s,r,h,a){this.x=t,this.y=e,this.toMove=t,this.toMove=e,this.velocityX=0,this.velocityY=0,this.width=i,this.height=s,this.speed=r,this.color=h,this.lastPosX=0,this.lastPosY=0,this.targetIndex=0,this.img=new Image,this.imgSrc=" ",this.backUpImage=new Image(this.widthBP,this.heightBP),null!=a&&(this.backUpImage.src=a),this.frames=0,this.currentFrame=0,this.hasGravity=!1,this.gravityAffected=!1,this.isList=!1,this.collisions=[],this.isCollision=!1,this.objCordsText=new y("X: "+Math.floor(this.x)+" Y: "+Math.floor(this.y))}updateMovementKeyboard(t){var i=!1;if(this.y+this.height>a&&(i=!0,this.y=a-this.height),this.y<0&&(i=!0,this.y=0),this.x<0&&(i=!0,this.x=0),this.x+this.width>e.width&&(i=!0,this.x=e.width-this.width),!i){1==l.w&&(this.velocityY-=this.speed*Y.time),1==l.a&&(this.velocityX-=this.speed*Y.time),1==l.s&&(this.velocityY+=this.speed*Y.time),1==l.d&&(this.velocityX+=this.speed*Y.time),0!==this.velocityX&&0!==this.velocityY&&(this.velocityX,this.velocityY)}this.x+=this.velocityX,this.y+=this.velocityY,this.velocityX=0,this.velocityY=0}renderObj(t,e){t||e||(this.lastPosX=this.x,this.lastPosY=this.y,i.fillRect(this.lastPosX,this.lastPosY,this.width,this.height)),t&&(this.lastPosX=this.x,this.lastPosY=this.y,image.src=this.imgSrc,i.drawImage(image.src,this.x,this.y)),this.currentFrame>this.frames-1&&(this.currentFrame=0),e&&(this.lastPosX=this.x,this.lastPosY=this.y,this.currentFrame++,this.imgSrc="imgs/obamaFrames/obama-"+this.currentFrame.toString()+".png",this.img.src=this.imgSrc,this.img.complete&&0!==this.img.naturalWidth?i.drawImage(this.img,this.x,this.y):i.drawImage(this.backUpImage,this.x,this.y))}moveTowardsTargetObject(t){var i=!1;if(this.y+this.height>a&&(i=!0,this.y=a-this.height),this.y<0&&(i=!0,this.y=0),this.x<0&&(i=!0,this.x=0),this.x+this.width>e.width&&(i=!0,this.x=e.width-this.width),!i)if(t.isList){if(Math.abs(t.array[this.targetIndex].x-this.x)<5&&(this.x=t.array[this.targetIndex].x),Math.abs(t.array[this.targetIndex].y-this.y)<5&&(this.y=t.array[this.targetIndex].y),t.array[this.targetIndex].x==this.x&&t.array[this.targetIndex].y==this.y&&this.targetNewRanObjectInList(t),this.targetIndex<=t.arrayLength&&this.targetIndex<t.arrayLength){let e=!1;t.array[this.targetIndex].x<this.x&&t.array[this.targetIndex].y<this.y&&!e&&(this.velocityY-=this.speed*Y.time,this.velocityX-=this.speed*Y.time,e=!0),t.array[this.targetIndex].x>this.x&&t.array[this.targetIndex].y<this.y&&!e&&(this.velocityY-=this.speed*Y.time,this.velocityX+=this.speed*Y.time,e=!0),t.array[this.targetIndex].x>this.x&&t.array[this.targetIndex].y>this.y&&!e&&(this.velocityY+=this.speed*Y.time,this.velocityX+=this.speed*Y.time,e=!0),t.array[this.targetIndex].x<this.x&&t.array[this.targetIndex].y>this.y&&!e&&(this.velocityY+=this.speed*Y.time,this.velocityX-=this.speed*Y.time,e=!0),t.array[this.targetIndex].y<this.y&&!e&&(this.velocityY-=this.speed*Y.time),t.array[this.targetIndex].x>this.x&&!e&&(this.velocityX+=this.speed*Y.time),t.array[this.targetIndex].y>this.y&&!e&&(this.velocityY+=this.speed*Y.time),t.array[this.targetIndex].x<this.x&&!e&&(this.velocityX-=this.speed*Y.time),0!==this.velocityX&&0!==this.velocityY&&(this.velocityX,this.velocityY),this.x+=this.velocityX,this.y+=this.velocityY,this.velocityX=0,this.velocityY=0}}else{S(this,t,!1)&&(this.x=t.x,this.y=t.y),Math.abs(t.x-this.x)<5&&(this.x=t.x),Math.abs(t.y-this.y)<5&&(this.y=t.y);let e=!1;t.x<this.x&&t.y<this.y&&!e&&(this.velocityY-=this.speed*Y.time,this.velocityX-=this.speed*Y.time,e=!0),t.x>this.x&&t.y<this.y&&!e&&(this.velocityY-=this.speed*Y.time,this.velocityX+=this.speed*Y.time,e=!0),t.x>this.x&&t.y>this.y&&!e&&(this.velocityY+=this.speed*Y.time,this.velocityX+=this.speed*Y.time,e=!0),t.x<this.x&&t.y>this.y&&!e&&(this.velocityY+=this.speed*Y.time,this.velocityX-=this.speed*Y.time,e=!0),t.y<this.y&&!e&&(this.velocityY-=this.speed*Y.time),t.x>this.x&&!e&&(this.velocityX+=this.speed*Y.time),t.y>this.y&&!e&&(this.velocityY+=this.speed*Y.time),t.x<this.x&&!e&&(this.velocityX-=this.speed*Y.time),0!==this.velocityX&&0!==this.velocityY&&(this.velocityX,this.velocityY),this.x+=this.velocityX,this.y+=this.velocityY,this.velocityX=0,this.velocityY=0}}targetNewRanObjectInList(t){this.targetIndex=b(0,t.arrayLength-1)}renderCords(t,e,i,s,r){this.objCordsText.text="X: "+Math.floor(this.x)+" Y: "+Math.floor(this.y),n(this.objCordsText,s,t,e*s.fontSize+5,r,i)}runCollisionDectection(t,e){if(1==e){let e=this.collisions.findIndex((e=>e.objectCollidedID===t.id));-1===e&&(e=this.collisions.length-1,this.collisions[this.collisions.length]={objectCollidedID:t.id,allIndexesOfCollides:[]});for(let i=0;i<t.arrayLength;i++)if(this.x+this.width-t.array[i].x>=0&&t.array[i].x+t.array[i].width-this.x>=0&&this.y+this.height-t.array[i].y>=0&&t.array[i].y+t.array[i].height-this.y>=0)this.collisions[e].allIndexesOfCollides.includes(i)||this.collisions[e].allIndexesOfCollides.push(i);else{let t=this.collisions[e].allIndexesOfCollides.indexOf(i);-1!=t&&this.collisions[e].allIndexesOfCollides.splice(t,1)}this.isCollision=!1;for(let t=0;t<this.collisions.length;t++)this.collisions[t].allIndexesOfCollides.length>0&&(this.isCollision=!0)}}}(150,300,25,35,270,"green");class m{constructor(t,e,i,s,r){this.isList=!0,this.sideBP="none",this.arrayLength=0,this.array={},this.patchCount=0,this.isSolid=!1,this.id="",this.typeBP=1,this.renderBP=1,this.toMoveXBP=t,this.toMoveYBP=e,this.xBP=t,this.yBP=e,this.widthBP=i,this.heightBP=s,this.speedBP=0,this.colorBP=" ",this.hasGravityBP=!1,this.isGravityAffectedBP=!1,this.dragableBP=!1,this.imageHolder=new Image(this.widthBP,this.heightBP),this.imgSrcBP=" ",this.framesBP=0,this.currentFrame=0,this.lastPosXBP=0,this.lastPosYBP=0,this.increment=0}randomizeBlueprintXY(){this.xBP=b(this.widthBP,e.width-this.widthBP),this.yBP=b(this.heightBP,e.height-this.heightBP)}timeOut=5;createObjectAtObject(t){this.timeOut>=5&&(this.xBP=t.x,this.yBP=t.y,this.createObjects(1,!1),this.timeOut=0),this.timeOut++}maintainMax(t){if(this.arrayLength<=this.increment&&(this.increment=0),this.arrayLength>t)for(let e=0;e<this.arrayLength-t;e++)this.removeObject(this.increment),this.increment++}createObjects(t,e,i){let s=this.arrayLength;for(let r=this.arrayLength;r<s+t;r++){if(i&&(X.graceTimer=0),e&&this.randomizeBlueprintXY(),this.array[r]={type:this.typeBP,render:this.renderBP,frames:this.framesBP,imgSrc:this.imgSrcBP,color:this.colorBP,toMoveX:this.toMoveXBP,toMoveY:this.toMoveYBP,speed:this.speedBP,x:this.xBP,y:this.yBP,velocityX:0,velocityY:0,lastPosX:this.xBP,lastPosY:this.yBP,width:this.widthBP,height:this.heightBP,side:this.sideBP},e)for(let t=0;t<this.arrayLength;t++)t!=r&&this.array[r].x+this.array[r].width-this.array[t].x>=0&&this.array[t].x+this.array[t].width-this.array[r].x>=0&&this.array[r].y+this.array[r].height-this.array[t].y>=0&&this.array[t].y+this.array[t].height-this.array[r].y>=0&&(this.randomizeBlueprintXY(),this.array[r].x=this.xBP,this.array[r].y=this.yBP);this.arrayLength++}}moveAllTowardsObject(t){for(let a=0;a<this.arrayLength;a++){Math.abs(t.x-this.array[a].x)<1.5&&(this.array[a].x=t.x),Math.abs(t.y-this.array[a].y)<1.5&&(this.array[a].y=t.y);let o=!1;t.x<this.array[a].x&&t.y<this.array[a].y&&!o&&(this.array[a].velocityY-=this.array[a].speed*Y.time,this.array[a].velocityX-=this.array[a].speed*Y.time,o=!0),t.x>this.array[a].x&&t.y<this.array[a].y&&!o&&(this.array[a].velocityY-=this.array[a].speed*Y.time,this.array[a].velocityX+=this.array[a].speed*Y.time,o=!0),t.x>this.array[a].x&&t.y>this.array[a].y&&!o&&(this.array[a].velocityY+=this.array[a].speed*Y.time,this.array[a].velocityX+=this.array[a].speed*Y.time,o=!0),t.x<this.array[a].x&&t.y>this.array[a].y&&!o&&(this.array[a].velocityY+=this.array[a].speed*Y.time,this.array[a].velocityX-=this.array[a].speed*Y.time,o=!0),t.y<this.array[a].y&&!o&&(this.array[a].velocityY-=this.array[a].speed*Y.time),t.x>this.array[a].x&&!o&&(this.array[a].velocityX+=this.array[a].speed*Y.time),t.y>this.array[a].y&&!o&&(this.array[a].velocityY+=this.array[a].speed*Y.time),t.x<this.array[a].x&&!o&&(this.array[a].velocityX-=this.array[a].speed*Y.time),0!==this.array[a].velocityX&&0!==this.array[a].velocityY&&(this.array[a].velocityX*=.6,this.array[a].velocityY*=.6);var e=this.array[a].x,i=this.array[a].y,s=this.array[a].velocityX,r=this.array[a].velocityY;this.array[a].y+=2*this.array[a].velocityY,this.array[a].x+=2*this.array[a].velocityX;var h=!0;for(let t=0;t<this.arrayLength;t++)t!=a&&this.array[a].x+this.array[a].width-this.array[t].x>=0&&this.array[t].x+this.array[t].width-this.array[a].x>=0&&this.array[a].y+this.array[a].height-this.array[t].y>=0&&this.array[t].y+this.array[t].height-this.array[a].y>=0&&(this.array[a].x=e,this.array[a].y=i,h=!1);if(this.array[a].x=e,this.array[a].y=i,this.array[a].velocityX=s,this.array[a].velocityY=r,!h)if(t.y>this.array[a].y){this.array[a].velocityY+=this.array[a].speed*Y.time/2,this.array[a].y+=this.array[a].velocityY;for(let t=0;t<this.arrayLength;t++)t!=a&&this.array[a].x+this.array[a].width-this.array[t].x>=0&&this.array[t].x+this.array[t].width-this.array[a].x>=0&&this.array[a].y+this.array[a].height-this.array[t].y>=0&&this.array[t].y+this.array[t].height-this.array[a].y>=0&&(this.array[a].y-=this.array[a].velocityY)}else{this.array[a].velocityY-=this.array[a].speed*Y.time/2,this.array[a].y+=this.array[a].velocityY;for(let t=0;t<this.arrayLength;t++)t!=a&&this.array[a].x+this.array[a].width-this.array[t].x>=0&&this.array[t].x+this.array[t].width-this.array[a].x>=0&&this.array[a].y+this.array[a].height-this.array[t].y>=0&&this.array[t].y+this.array[t].height-this.array[a].y>=0&&(this.array[a].y-=this.array[a].velocityY)}h&&(this.array[a].x+=this.array[a].velocityX,this.array[a].y+=this.array[a].velocityY),this.array[a].velocityX=0,this.array[a].velocityY=0}}removeObject(t){var e;e=this.array[t],i.clearRect(e.x,e.y,e.width,e.height),this.array[t].type=this.array[this.arrayLength-1].type,this.array[t].render=this.array[this.arrayLength-1].render,this.array[t].frames=this.array[this.arrayLength-1].frames,this.array[t].currentFrame=this.array[this.arrayLength-1].currentFrame,this.array[t].imgSrc=this.array[this.arrayLength-1].imgSrc,this.array[t].color=this.array[this.arrayLength-1].color,this.array[t].toMoveX=this.array[this.arrayLength-1].toMoveX,this.array[t].toMoveY=this.array[this.arrayLength-1].toMoveY,this.array[t].x=this.array[this.arrayLength-1].x,this.array[t].y=this.array[this.arrayLength-1].y,this.array[t].lastPosX=this.array[this.arrayLength-1].lastPosX,this.array[t].lastPosY=this.array[this.arrayLength-1].lastPosY,this.array[t].width=this.array[this.arrayLength-1].width,this.array[t].height=this.array[this.arrayLength-1].height,this.array[t].side=this.array[this.arrayLength-1].side,delete this.array[this.arrayLength-1],this.arrayLength--}renderObjects(t){for(let r=0;r<this.arrayLength;r++){var s=!1;if(s||this.array[r].y+this.array[r].height>a&&(this.array[r].y=a-this.array[r].height,t&&(this.removeObject(r),s=!0,P.bulletShotFromSide.splice(r,1))),s||this.array[r].y<0&&(this.array[r].y=0,t&&(this.removeObject(r),s=!0,P.bulletShotFromSide.splice(r,1))),!s&&(this.array[r].x<0&&(this.array[r].x=0,t&&(this.removeObject(r),s=!0,P.bulletShotFromSide.splice(r,1))),s||this.array[r].x+this.array[r].width>e.width&&(this.array[r].x=e.width-this.array[r].width,t&&(this.removeObject(r),s=!0,P.bulletShotFromSide.splice(r,1))),!s)){if(1==this.array[r].render){let t=i.fillStyle;i.fillStyle=this.array[r].color,i.fillRect(this.array[r].x,this.array[r].y,this.array[r].width,this.array[r].height),i.fillStyle=t}2==this.array[r].render&&(this.array[r].lastPosX=this.array[r].x,this.array[r].lastPoxY=this.array[r].y,this.imageHolder.src=this.array[r].imgSrc,i.drawImage(this.imageHolder,this.array[r].lastPosX,this.array[r].lastPoxY,this.array[r].width,this.array[r].height)),3==this.array[r].render&&(this.array[r].currentFrame>this.array[r].frames-1&&(this.array[r].currentFrame=0),this.array[r].lastPosX=this.array[r].x,this.array[r].lastPosY=this.array[r].y,this.array[r].currentFrame++,this.array[r].imgSrc=B(this.array[r].imgSrc,this.array[r].currentFrame.toString(),this.array[r].imgSrc.length-4),this.imgHolder=this.array[r].imgSrc,i.drawImage(this.imgHolder,this.array[r].x,this.array[r].y))}}}}var g=new m(35,35,25,35);g.id="zombies",g.type=1,g.speedBP=220,g.renderBP=1,g.colorBP="green",g.dragableBP=!1,g.hasGravityBP=!1,g.isGravityAffectedBP=!1,g.isSolid=!1;var u=new m(-50,-50,25,25);u.id="bullets",u.speed=1e3,u.renderBP=1,u.colorBP="black",g.dragableBP=!1,g.hasGravityBP=!1,g.isGravityAffectedBP=!1,g.isSolid=!1;var w=new m(50,50,35,35);w.id="coins",w.imgSrcBP="zomCoin.png",w.isList=!0,w.renderBP=2,w.dragableBP=!1,w.hasGravityBP=!1,w.isGravityAffectedBP=!1,w.isSolid=!1;var x={playersCoinsTotal:0,checkForPickup:function(){colDec=S(d,w,!0),colDec[0]&&(w.removeObject(colDec[1]),this.playersCoinsTotal++)}},p={wave:1,update:function(){if(0==g.arrayLength){if(this.wave%5==0){let t=g.typeBP,e=g.speedBP,i=g.colorBP,s=g.widthBP,r=g.heightBP;g.heightBP=60,g.widthBP=60,g.typeBP=3,g.speedBP=250,g.colorBP="red",g.createObjects(1,!0,!0),g.widthBP=s,g.heightBP=r,g.typeBP=t,g.speedBP=e,g.colorBP=i}if(this.wave%3==0){let t=g.typeBP,e=g.speedBP,i=g.colorBP,s=g.widthBP,r=g.heightBP;g.heightBP=25,g.widthBP=25,g.typeBP=2,g.speedBP=300,g.colorBP="lime",g.createObjects(Math.floor(this.wave/2),!0,!0),g.widthBP=s,g.heightBP=r,g.typeBP=t,g.speedBP=e,g.colorBP=i}w.createObjects(this.wave,!0),g.createObjects(Math.floor(1.5*this.wave),!0,!0),this.wave++,f.waveCount++,X.initialize()}}},P={bulletShotFromSide:[],apacingForAim:150,reloadTime:25,reloading:0,damage:2,update:function(){if(this.reloading<=0){let t=!1;console.log(l.ArrowLeft),this.reloading=this.reloadTime,l.ArrowRight&&!t&&(u.xBP=d.x+d.width,u.yBP=d.y,this.bulletShotFromSide[u.arrayLength]="right",u.sideBP="right",u.createObjects(1,!1),t=!0),l.ArrowLeft&&!t&&(u.xBP=d.x-d.width,u.yBP=d.y,this.bulletShotFromSide[u.arrayLength]="left",u.sideBP="left",u.createObjects(1,!1),t=!0),l.ArrowDown&&!t&&(u.xBP=d.x,u.yBP=d.y+d.height,this.bulletShotFromSide[u.arrayLength]="bottom",u.sideBP="bottom",u.createObjects(1,!1),t=!0),l.ArrowUp&&!t&&(u.xBP=d.x,u.yBP=d.y-d.height,this.bulletShotFromSide[u.arrayLength]="top",u.sideBP="top",u.createObjects(1,!1),t=!0)}else this.reloading--;for(let t=0;t<u.arrayLength;t++)"right"==u.array[t].side&&(u.array[t].x+=u.speed*Y.time),"left"==u.array[t].side&&(u.array[t].x-=u.speed*Y.time),"top"==u.array[t].side&&(u.array[t].y-=u.speed*Y.time),"bottom"==u.array[t].side&&(u.array[t].y+=u.speed*Y.time);var t=[];for(let e=0;e<u.arrayLength;e++)1==(t=S(u.array[e],g,!0))[0]&&(u.removeObject(e),X.zombieHit(t[1]))}},f={showX:50,showY:50,size:35,playerScore:0,obamaScore:0,waveCount:0,cash:300,playerIncrement:1,obamaIncrement:1,playerScoreText:null,obamaScoreText:null,waveScoreText:null,coinScoreText:null,renderScore:function(){this.playerScoreText=new y("Zombie Kills  "+this.playerScore),n(this.playerScoreText,o,this.showX,this.showY,i,this.size),this.waveScoreText=new y("Wave  "+this.waveCount),n(this.waveScoreText,o,this.showX,this.showY+this.size+10,i,this.size),this.coinScoreText=new y("Coins  "+x.playersCoinsTotal),n(this.coinScoreText,o,this.showX,this.showY+2*this.size+20,i,this.size)}},v={showX:50,showY:250,showMenuX:50,showMenuY:200,menuWidth:400,menuHeight:500,backgroundColor:"black",textColor:"red",borderColor:"red",borderRadiusPX:5,increment:0,menuFontSize:32,pause:!1,imageHolder:new Image,optionPrices:{price1:new y(65),price2:new y(50),price3:new y(75)},coins:new y(x.playersCoinsTotal),optionPriceCords:[{x:307+this.showMenuX,y:91+this.showMenuY},{x:220+this.showMenuX,y:238+this.showMenuY},{x:280+this.showMenuX,y:363+this.showMenuY}],coinsTotalX:180+this.showMenuX,coinsTotalX:437+this.showMenuY,menuSrc:"zomMenu.png",renderPrompt:function(){i.fillText("( f ) for shop",this.showX,this.showY)},renderMenu2:function(){var t,e,s;t=this.menuSrc,e=this.showMenuX,s=this.showMenuY,theImage=new Image,theImage.src=t,i.drawImage(theImage,e,s),n(this.optionPrices.price1,o,this.showMenuX+307,this.showMenuY+91,i,45),n(this.optionPrices.price2,o,this.showMenuX+220,this.showMenuY+238,i,45),n(this.optionPrices.price3,o,this.showMenuX+280,this.showMenuY+363,i,45),n(this.coins,o,this.showMenuX+180,this.showMenuY+455,i,65)},renderMenu:function(){i.font=this.menuFontSize.toString()+"px serif",i.fillRect(this.showMenuX-this.borderRadiusPX,this.showMenuY-50-this.borderRadiusPX,this.menuWidth+this.borderRadiusPX,this.menuHeight+this.borderRadiusPX),i.fillRect(this.showMenuX,this.showMenuY-50,this.menuWidth-this.borderRadiusPX,this.menuHeight-this.borderRadiusPX),i.fillText("( 1 ) Speed Increase $50",this.showMenuX+1,this.showMenuY),this.increment++,i.fillText("( 2 ) Size Increase $50",this.showMenuX+1,this.showMenuY+this.menuFontSize),this.increment++,i.fillText("( 3 ) Point Increase $50",this.showMenuX+1,this.showMenuY+2*this.menuFontSize),this.increment++,i.fillText("( 4 ) Trump Bot $50",this.showMenuX+1,this.showMenuY+3*this.menuFontSize),this.increment++,i.fillText("( 5 ) Exit Shop",this.showMenuX+1,this.showMenuY+4*this.menuFontSize),this.increment++,i.fillText("Current big ones $"+f.cash,this.showMenuX+1,this.showMenuY+5*this.menuFontSize),this.increment++},deleteMenu:function(){i.clearRect(this.showMenuX-this.borderRadiusPX,this.showMenuY-50-this.borderRadiusPX,this.menuWidth+this.borderRadiusPX,this.menuHeight+this.borderRadiusPX)},timeOut:0,subTimeOut:0,showMenu:function(){if(!l.f&&1!=this.pause||0!=this.timeOut)this.timeOut>0&&this.timeOut--;else{if(this.renderMenu2(),this.pause=!0,1==l.one&&f.cash>=25&&(d.speed+=3,f.cash-=25),1==l.two&&f.cash>=25&&(d.width+=15,d.height+=15,f.cash-=25),1==l.three&&f.cash>=25&&(f.playerIncrement+=1,f.cash-=25),1==l.four&&f.cash,1==l.f&&this.subTimeOut>=100)return this.pause=!1,this.timeOut=100,this.subTimeOut=0,void v.deleteMenu();this.subTimeOut++}}};function b(t,e){return seed=Math.random(),seed=Math.floor(seed*(e-(t-1)))+t,seed}function B(t,e,i){return i<0||i>t.length?t:t.slice(0,i)+e+t.slice(i)}var X={zombieHealthPointsTotal:10,zombieHealthPointsIndex:[],playerHealthPointsTotal:10,playerCurrentHealthPoints:10,gap:10,height:15,outlineColor:"black",graceTimer:100,initialize:function(){for(let t=0;t<g.arrayLength;t++)3==g.array[t].type&&(this.zombieHealthPointsIndex[t]={healthPointTotal:4*this.zombieHealthPointsTotal,currentHealthPoints:4*this.zombieHealthPointsTotal}),2==g.array[t].type&&(this.zombieHealthPointsIndex[t]={healthPointTotal:this.zombieHealthPointsTotal/2,currentHealthPoints:this.zombieHealthPointsTotal/2}),1==g.array[t].type&&(this.zombieHealthPointsIndex[t]={healthPointTotal:this.zombieHealthPointsTotal,currentHealthPoints:this.zombieHealthPointsTotal})},zombieHit:function(t){this.zombieHealthPointsIndex[t].currentHealthPoints-=P.damage,this.zombieHealthPointsIndex[t].currentHealthPoints<=0&&(this.zombieHealthPointsIndex.splice(t,1),g.removeObject(t),f.playerScore++)},playerHitCheck:function(){this.graceTimer>=100&&S(d,g,!0)[0]&&(this.playerCurrentHealthPoints--,this.graceTimer=0),this.graceTimer++,this.playerCurrentHealthPoints},render:function(){var t=i.fillStyle;if(this.playerCurrentHealthPoints>=0){i.fillStyle=this.outlineColor,i.fillRect(d.x,d.y-d.height+this.gap,d.width,this.height);let t=d.width/this.playerHealthPointsTotal;i.fillStyle="red",i.fillRect(d.x+1,d.y-d.height+this.gap,t*this.playerCurrentHealthPoints,this.height-1),i.fillStyle="silver",i.fillRect(d.x+t*this.playerCurrentHealthPoints,d.y-d.height+this.gap,d.width-t*this.playerCurrentHealthPoints,this.height-1)}for(let t=0;t<this.zombieHealthPointsIndex.length;t++){console.log(this.zombieHealthPointsIndex),i.fillStyle=this.outlineColor,i.fillRect(g.array[t].x,g.array[t].y-g.array[t].height+this.gap,g.array[t].width,this.height);let e=g.array[t].width/this.zombieHealthPointsIndex[t].healthPointTotal;i.fillStyle="red",i.fillRect(g.array[t].x+1,g.array[t].y-g.array[t].height+this.gap,e*this.zombieHealthPointsIndex[t].currentHealthPoints,this.height-1),i.fillStyle="silver",i.fillRect(g.array[t].x+e*this.zombieHealthPointsIndex[t],g.array[t].y-g.array[t].height+this.gap,g.array[t].width-e*this.zombieHealthPointsIndex[t].currentHealthPoints,this.height-1)}i.fillStyle=t}},Y={lastUpdate:Date.now(),currentUpdate:this.lastUpdate,time:.1,update:function(){this.currentUpdate=Date.now(),0===this.lastUpdate&&(this.lastUpdate=this.currentUpdate),this.time=(this.currentUpdate-this.lastUpdate)/1e3,this.lastUpdate=this.currentUpdate}};function S(t,e,i){if(1==i){for(let i=0;i<e.arrayLength;i++)if(t.x+t.width-e.array[i].x>=0&&e.array[i].x+e.array[i].width-t.x>=0&&t.y+t.height-e.array[i].y>=0&&e.array[i].y+e.array[i].height-t.y>=0)return[!0,i];return[!1]}return t.x+t.width-e.x>=0&&e.x+e.width-t.x>=0&&t.y+t.height-e.y>=0&&e.y+e.height-t.y>=0}pause=!1,main=()=>{window.requestAnimationFrame(main),v.pause||(i.clearRect(0,0,e.width,e.height),P.update(),Y.update(),d.updateMovementKeyboard(),g.moveAllTowardsObject(d),f.renderScore(),d.renderObj(!1,!1),g.renderObjects(!1),u.renderObjects(!0),p.update(),X.render(),v.showMenu(),X.playerHitCheck(),w.renderObjects(!1),x.checkForPickup()),v.pause,v.showMenu()},g.createObjects(1,!0),X.initialize(),main()}));